
<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>HTML 5 History API的&#39;前生今世&#39; | Jruif&#39;s Blog | 路漫漫其修远兮，吾将上下而求索</title>
  <meta name="author" content="jruif">
  
  <meta name="description" content="jruif,jruif博客,Javascript,css3,nodejs">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="HTML 5 History API的&#39;前生今世&#39;"/>
  <meta property="og:site_name" content="Jruif&#39;s Blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Jruif&#39;s Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/js/jruif.css" media="screen" type="text/css">
</head>


<body>
  <header id="header" class="inner clearfix"><a href="/" class="alignleft">
	<img class="avatar" src="http://ww2.sinaimg.cn/large/7a0338aegw1ej12rnn2lyj2028028t8j.jpg" title="Jruif&#39;s Blog | 路漫漫其修远兮，吾将上下而求索">
</a>
<div class="header-myinfo">
	<h1 class="header-title">Jruif&#39;s Blog</h1>
	 
	<span class="header-subtitle">路漫漫其修远兮，吾将上下而求索</span>
</div>
<nav id="main-nav" class="alignright clearfix">
  <ul class="clearfix">
    
      <li><a href="/">首页</a></li>
    
      <li><a href="/archives">分类</a></li>
    
      <li><a href="/resume">About</a></li>
    
  </ul>
</nav></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  
    

<article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-10-27T14:16:39.000Z"><a href="/2014-10/HTML-5-History-API的前生今世/">2014 10月 27</a></time>
      
      
  
    <h1 class="title">HTML 5 History API的&#39;前生今世&#39;</h1>
  

    </header>
    <div class="entry">
      
        <!-- MarkdownTOC -->

<ul>
<li><a href="#为什么介绍history-api-？">为什么介绍History API ？</a></li>
<li><a href="#浏览器支持">浏览器支持</a></li>
<li><a href="#使用history">使用History</a></li>
<li><a href="#demo示例">Demo示例</a><ul>
<li><a href="#demo-1：html-5-history-api-–-pushstate">Demo 1：HTML 5 History API – pushState</a></li>
<li><a href="#demo-2：html-5-history-api-–-replacestate">Demo 2：HTML 5 History API – replaceState</a></li>
</ul>
</li>
<li><a href="#总结">总结</a></li>
</ul>
<!-- /MarkdownTOC -->


<p>History是有趣的，不是吗？在之前的HTML版本中，我们对浏览历史记录的操作非常有限。我们可以来回使用可以使用的方法，但这就是一切我们能做的了。</p>
<p>但是，利用HTML 5的History API，我们可以更好的控制浏览器的历史记录了。例如：我们可以添加一条记录到历史记录的列表中，或者在没有刷新时，可以更新地址栏的URL。<br><a id="more"></a></p>
<h2 id="为什么介绍History_API_？">为什么介绍History API ？</h2>
<p>在这篇文章中，我们将了解HTML 5中History API的来源。在此之前，我们经常使用散列值来改变页面内容，特别是那些对页面特别重要的内容。因为没有刷新，所以对于单页面应用，改变其URL是不可能的。此外，当你改变URL的散列值值，它对浏览器的历史记录没有任何影响。</p>
<p>然后，现在对于HTML 5的History API来说，这些都是可以轻易实现的，但是由于单页面应用没必要使用散列值，它可能需要额外的开发脚本。它也允许我们用一种对SEO友好的方式建立新应用。此外，它能减少带宽，但是该怎么证明呢？</p>
<p>在文章中，我将用History API开发一个单页应用来证明上述的问题。</p>
<p>这也意味着我必须先在首页加载必要的资源。现在开始，页面仅仅加载需要的内容。换句话说，应用并不是一开始就加载了全部的内容，在请求第二个应用内容时，才会被加载。</p>
<p>注意,您需要执行一些服务器端编码只提供部分资源,而不是完整的页面内容。</p>
<h2 id="浏览器支持">浏览器支持</h2>
<p>在写这篇文章的时候，各主流浏览器对History API的支持是非常不错的，可以<a href="http://caniuse.com/#search=history" target="_blank" rel="external">点击此处</a>查看其支持情况，这个链接会告诉你支持的浏览器，并使用之前，总有良好的实践来检测支持的特定功能。</p>
<p>为了用变成方式确定浏览器是否支持这个API，可以用下面的一行代码检验：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">return</span> !!(<span class="built_in">window</span>.history && history.pushState);</div></pre></td></tr></table></figure>

<p>此外,我建议参考一下这篇文章:<a href="http://www.xpertdeveloper.com/2014/08/detect-html5-features/" target="_blank" rel="external">Detect Support for Various HTML5 Features</a>.<br>如果你是用的现代浏览器，可以用下面的代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (Modernizr.history) {</div><div class="line">    <span class="comment">// History API Supported</span></div><div class="line">}</div></pre></td></tr></table></figure>

<p>如果你的浏览器不支持History API，可以使用<a href="https://github.com/browserstate/history.js" target="_blank" rel="external">history.js</a>代替。</p>
<h2 id="使用History">使用History</h2>
<p>HTML 5提供了两个新方法：<br>1、history.pushState();<br>2、history.replaceState();</p>
<p>两种方法都允许我们添加和更新历史记录，它们的工作原理相同并且可以添加数量相同的参数。除了方法之外，还有popstate事件。在后文中将介绍怎么使用和什么时候使用popstate事件。</p>
<p>pushState()和replaceState()参数一样，参数说明如下：</p>
<p>1、state：存储JSON字符串，可以用在popstate事件中。</p>
<p>2、title：现在大多数浏览器不支持或者忽略这个参数，最好用null代替</p>
<p>3、url：任意有效的URL，用于更新浏览器的地址栏，并不在乎URL是否已经存在地址列表中。更重要的是，它不会重新加载页面。</p>
<p>两个方法的主要区别就是：pushState()是在history栈中添加一个新的条目，replaceState()是替换当前的记录值。如果你还对这个有迷惑，就用一些示例来证明这个区别。</p>
<p>假设我们有两个栈块，一个标记为1,另一个标记为2，你有第三个栈块，标记为3。当执行pushState()时，栈块3将被添加到已经存在的栈中，因此，栈就有3个块栈了。</p>
<p>同样的假设情景下，当执行replaceState()时，将在块2的堆栈和放置块3。所以history的记录条数不变，也就是说，pushState()会让history的数量加1.</p>
<p>比较结果如下图：<br><img src="/img/20141027.jpg" alt=""></p>
<p>到此，为了控制浏览器的历史记录，我们忽略了pushState()和replaceState()的事件。但是假设浏览器统计了许多的不良记录，用户可能会被重定向到这些页面，或许也不会。在这种情况下，当用户使用浏览器的前进和后退导航按钮时就会产生意外的问题。</p>
<p>尽管当我们使用pushState()和replaceState()进行处理时，期待popstate事件被触发。但实际上，情况并不是这样。相反，当你浏览会话历史记录时，不管你是点击前进或者后退按钮，还是使用history.go和history.back方法，popstate都会被触发。</p>
<blockquote>
<p>In WebKit browsers, a popstate event would be triggered after document’s onload event, but Firefox and IE do not have this behavior.（在WebKit浏览器中，popstate事件在document的onload事件后触发，Firefox和IE没有这种行为）。</p>
</blockquote>
<h2 id="Demo示例">Demo示例</h2>
<p>HTML：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"container"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"row"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">ul</span> <span class="attribute">class</span>=<span class="value">"nav navbar-nav"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">li</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"home.html"</span> <span class="attribute">class</span>=<span class="value">"historyAPI"</span>&gt;</span>Home<span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;/<span class="title">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">li</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"about.html"</span> <span class="attribute">class</span>=<span class="value">"historyAPI"</span>&gt;</span>About<span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;/<span class="title">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">li</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"contact.html"</span> <span class="attribute">class</span>=<span class="value">"historyAPI"</span>&gt;</span>Contact<span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;/<span class="title">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"row"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"col-md-6"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"well"</span>&gt;</span></div><div class="line">                Click on Links above to see history API usage using <span class="tag">&lt;<span class="title">code</span>&gt;</span>pushState<span class="tag">&lt;/<span class="title">code</span>&gt;</span> method.</div><div class="line">            <span class="tag">&lt;/<span class="title">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"row"</span>&gt;</span>   </div><div class="line">            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"jumbotron"</span> <span class="attribute">id</span>=<span class="value">"contentHolder"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">h1</span>&gt;</span>Home!<span class="tag">&lt;/<span class="title">h1</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">p</span>&gt;</span>Lorem Ipsum is simply dummy text of the printing and typesetting industry.<span class="tag">&lt;/<span class="title">p</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div></pre></td></tr></table></figure>

<p>JavaScript：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</div><div class="line">    jQuery(<span class="string">'document'</span>).ready(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>{</div><div class="line"> </div><div class="line">        jQuery(<span class="string">'.historyAPI'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">(e)</span></span>{</div><div class="line">            e.preventDefault();</div><div class="line">            <span class="keyword">var</span> href = $(<span class="keyword">this</span>).attr(<span class="string">'href'</span>);</div><div class="line"> </div><div class="line">            <span class="comment">// Getting Content</span></div><div class="line">            getContent(href, <span class="literal">true</span>);</div><div class="line"> </div><div class="line">            jQuery(<span class="string">'.historyAPI'</span>).removeClass(<span class="string">'active'</span>);</div><div class="line">            $(<span class="keyword">this</span>).addClass(<span class="string">'active'</span>);</div><div class="line">        });</div><div class="line"> </div><div class="line">    });</div><div class="line"> </div><div class="line">    <span class="comment">// Adding popstate event listener to handle browser back button </span></div><div class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">"popstate"</span>, <span class="function"><span class="keyword">function</span><span class="params">(e)</span> </span>{</div><div class="line"> </div><div class="line">        <span class="comment">// Get State value using e.state</span></div><div class="line">        getContent(location.pathname, <span class="literal">false</span>);</div><div class="line">    });</div><div class="line"> </div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getContent</span><span class="params">(url, addEntry)</span> </span>{</div><div class="line">        $.get(url)</div><div class="line">        .done(<span class="function"><span class="keyword">function</span><span class="params">( data )</span> </span>{</div><div class="line"> </div><div class="line">            <span class="comment">// Updating Content on Page</span></div><div class="line">            $(<span class="string">'#contentHolder'</span>).html(data);</div><div class="line"> </div><div class="line">            <span class="keyword">if</span>(addEntry == <span class="literal">true</span>) {</div><div class="line">                <span class="comment">// Add History Entry using pushState</span></div><div class="line">                history.pushState(<span class="literal">null</span>, <span class="literal">null</span>, url);</div><div class="line">            }</div><div class="line"> </div><div class="line">        });</div><div class="line">    }</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>

<h3 id="Demo_1：HTML_5_History_API_–_pushState">Demo 1：HTML 5 History API – pushState</h3>
<p>历史条目在浏览器中被计算，并且可以很容易的使用浏览器的前进和后退按钮。<a href="http://demo.xpertdeveloper.com/history-api/demo1.html" target="_blank" rel="external">View Demo</a>  （ps:你在点击demo1的选项卡时，其记录会被添加到浏览器的历史记录，当点击后退/前进按钮时，可以回到/跳到你之前点击的选项卡对应的页面）</p>
<h3 id="Demo_2：HTML_5_History_API_–_replaceState">Demo 2：HTML 5 History API – replaceState</h3>
<p>历史条目在浏览器中被更新，并且不能使用浏览器的前进和后退按钮进行浏览。<a href="http://demo.xpertdeveloper.com/history-api/demo2.html" target="_blank" rel="external">View Demo</a>  （ps:你在点击demo1的选项卡时，其记录会被替换当前浏览器的历史记录，当点击后退/前进按钮时，不可以回到/跳到你之前点击的选项卡对应的页面，而是返回/跳到你进入demo2的上一个页面）</p>
<h2 id="总结">总结</h2>
<p>HTML 5中的History API 对Web应用有着很大的影响。为了更容易的创建有效率的、对SEO友好的单页面应用，它移除了对散列值的依赖</p>
<blockquote>
<p>欢迎加入<a href="http://shang.qq.com/wpa/qunwpa?idkey=a61d2af0241e8eb322e98f4a162e124606acf0b96ec06683fb67ddeb538ce0a4" target="_blank" rel="external">Javascript前端技术</a>，群号为:<a href="http://shang.qq.com/wpa/qunwpa?idkey=a61d2af0241e8eb322e98f4a162e124606acf0b96ec06683fb67ddeb538ce0a4" target="_blank" rel="external">85088298</a></p>
</blockquote>

      
    </div>
    <footer>
      
        
        
  
  <div class="tags">
    <a href="/tags/HTML5/">HTML5</a>, <a href="/tags/history/">history</a>, <a href="/tags/pushState/">pushState</a>, <a href="/tags/replaceState/">replaceState</a>
  </div>

        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">留言</h1>
<!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
<script type="text/javascript">
	var duoshuoQuery = {short_name:"Jruif"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
</script>
<!-- Duoshuo Comment END -->    
</section>



<nav id="pagination">
  
    <a href="/2014-10/运行grunt报错：Maximum-call-stack-size-exceeded的解决方案/" class="prev" title="运行grunt报错：Maximum call stack size exceeded的解决方案"><span id="prev">上一页</span></a>
  
  
    <a href="/2014-10/《黑客与画家》读书笔记/" class="next" title="《黑客与画家》读书笔记"><span id="next">下一页</span></a>
  
  <div class="clearfix"></div>
</nav>
    
    </div></div>
    <div class="clearfix"></div>
  </div>
  
  <footer id="footer" class="inner"><div class="">
  
  &copy; 2014 jruif
  
 Powered by <a href='http://hexo.io'>Hexo</a>
</div>
<div class="clearfix"></div></footer>
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<script src="http://libs.baidu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.jruif.js"></script>

<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>

<script type="text/javascript" src="/vegas/jquery.vegas.js"></script>
<script type="text/javascript">
(function($){
	var elem = document.createElement('canvas');
	if(!(elem.getContext && elem.getContext('2d'))){
		alert("您的浏览器不支持HTML5，页面会错乱。请选择Chrome，Firefox，IE9+以获得更好的浏览体验。");
	}
	$("h1").jruif({
		rollingLinks: true
	});
	//请求bing印象图片
	var backg=(function(num,fadeTime){
	  		var bg=[];
	  		for(var i=0;i<num;i++){
	  			bg.push({
	  				"src":"http://toolsapp.sinaapp.com/bingwp.php?idx="+Math.floor(Math.random() * 15),
	  				"fade":fadeTime
	  			});
			}
			return bg;
	  	})(5,5000);
	//vegar插件
	$.vegas('slideshow',{
	  	delay: 60000,//多久换一幅图片
		backgrounds: backg
	})( 'overlay', {
		src:'/vegas/overlay.png',
		opacity:0.6
	});
	$('.fancybox').fancybox();
	$("#pagination a").on("click", function(){
		$(this).addClass("loading");
	});
})(jQuery);
(function(){
	var canvas=document.createElement("canvas");
	canvas.id="canvas";
	canvas.width=window.innerWidth;
	canvas.height=window.innerHeight;
	canvas.style.top="0";
	canvas.style.position="fixed";
	canvas.style.zIndex=-1;
	document.body.appendChild(canvas);
    var context=canvas.getContext("2d");
    // 
    // snow
    // 
    function snow(a){
        this.name="❅";
        this.init.apply(this,arguments);
    }
    snow.staticPro=function(){
        this.canvasWidth=canvas.width;
        this.canvasHeight=canvas.height;
        this.maxSize=30;
        this.minSize=5;
        this.maxSpeed=3;
        this.minSpeed=1;
        this.minWind=0;
        this.maxWind=0.5;
        this.maxRotate=Math.PI / 4;
        this.minRotate=Math.PI / 8;
        this.color="rgba(255,255,255,1)";
        this.run=function(sn){
            var self=this,removeSnow=[];
            setInterval(function(){
                context.clearRect(0,0,self.canvasWidth,self.canvasHeight-5);
                removeSnow.forEach(function(e){
                    self.snows.splice(e,1);
                    sn.splice(e,1);
                });
                removeSnow=[];
                self.snows.forEach(function(elm,i){
                    context.fillStyle=elm.color;
                    context.font=elm.size+"px sans-serif";
                    elm.y+=elm.speed;
                    elm.x+=Math.sin((elm.wind+=0.005)*Math.PI);
                    context.fillText("❅",elm.x,elm.y);
                    if(elm.y>self.canvasHeight+elm.size||elm.x>self.canvasWidth+elm.size||elm.x<0-elm.size){
                        removeSnow.push(i);
                    }
                });
            },300/6);
        }
    }
    snow.snows=[];
    snow.prototype={
        init:function(){
            snow.staticPro();
            this.size=this.rand(snow.maxSize,snow.minSize);
            this.speed=this.rand(snow.maxSpeed,snow.minSpeed);
            this.color=this.setOpacity();
            this.wind=this.rand(snow.maxWind,snow.minWind);
            this.rotate=this.rand(snow.maxRotate,snow.minRotate);
            this.x=Math.random()*snow.canvasWidth;
            this.y=-5;
            this.createSnow(this.x,this.y,this.size);
            snow.snows.push({
                x:this.x,
                y:this.y,
                color:this.color,
                speed:this.speed,
                size:this.size,
                wind:this.wind
            });
        },
        rand:function(a,b){
            return Math.round((b - a) * Math.random()) + a;
        },
        setOpacity: function() {
            var a = (this.size - snow.minSize) / (snow.maxSize - snow.minSize);
            var b = ((0.9 - 0.1) * a + 0.1).toFixed(2);
            return snow.color.replace(/\d+(?=\)$)/g,b);
        },
        createSnow:function(x,y,size){
            context.font=this.size+"px sans-serif";
            context.fillStyle=this.color;
            context.fillText(this.name,x,y,size);
        }
    }
    var handle2=(function(dots){
        var sn=[new snow()];
        snow.run(sn);
        window.setInterval(function(sn){
            for (var i = 0; i < 5; i++) {
                sn.push(new snow());
            };
        }.bind(window,sn), 1000);
    })();
})();
</script>

	
		<script type="text/javascript">
			(function(){
				var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
				document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F61148521014dfb85ac8907c77456806a' type='text/javascript'%3E%3C/script%3E"));
			})();
		</script>
	

</body>
</html>

